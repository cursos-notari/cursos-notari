import { CreditCard } from "lucide-react";

// função para detectar a bandeira do cartão e retornar o ícone SVG
export const detectCardBrand = (number: string) => {
  const cleanNumber = number.replace(/\s/g, '');

  // Elo (mais específico, checar primeiro)
  if (cleanNumber.match(/^(40117[8-9]|431274|438935|451416|457393|45763[1-2]|506(699|7[0-6][0-9]|77[0-8])|509\d{3}|627780|636297|636368|650(03[1-3]|03[5-9]|04[0-9]|05[0-1]|48[5-9]|49[0-9]|5[0-2][0-9]|53[0-8])|6516(5[2-9]|[6-7][0-9])|6550([0-1][0-9]|2[1-9]|[3-4][0-9]|5[0-8]))/)) {
    return <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 935.2 595.3" width="40" height="40"><path style={{ fill: '#003933', strokeWidth: '0px' }} d="M66,275.1h59.3c10.6-56.5,59.7-101.9,122.3-101.9s121.1,50.7,121.1,127.2-.8,14.7-1.6,20.5h-191.5c9,34.8,37.6,55.2,72,55.2s51.5-11.5,69.1-31.5l35.2,32.3c-23.3,26.6-58.1,45-104.3,45s-111.7-44.6-122.3-101.1h-59.3v-45.8ZM318,275.1c-2.5-14.3-9-27.4-18.4-36.8-12.3-12.3-30.3-20.1-52-20.1s-39.3,7.4-52.4,20.5c-9,9-16.4,21.3-20.1,36.4h142.8ZM404.4,174.9h51.5v196.4h93.3v49.1h-92.5c-34,0-52.4-18.4-52.4-52.4v-193.1h0ZM559,297.6c0-66.7,54.4-124.4,126.4-124.4s113.7,45,124.4,101.9h59.3v45.8h-59.3c-11,56.5-61,101.1-124.4,101.1-72.4,0-126.4-57.3-126.4-124.4ZM685.5,373.7c43,0,74.9-32.7,74.9-75.7s-32.7-76.5-74.9-76.5-74.9,32.7-74.9,76.1c0,42.1,32.7,76.1,74.9,76.1Z" /></svg>;
  }

  // Mastercard
  if (cleanNumber.match(/^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))$/)) {
    return <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 131.39 86.9" width="40" height="40"><g style={{ opacity: 0 }}> <rect style={{ fill: '#fff' }} width="131.39" height="86.9" /> </g> <rect style={{ fill: '#ff5f00' }} x="48.37" y="15.14" width="34.66" height="56.61" /> <path style={{ fill: '#eb001b' }} d="M51.94,43.45a35.94,35.94,0,0,1,13.75-28.3,36,36,0,1,0,0,56.61A35.94,35.94,0,0,1,51.94,43.45Z" /> <path style={{ fill: '#f79e1b' }} d="M120.5,65.76V64.6H121v-.24h-1.19v.24h.47v1.16Zm2.31,0v-1.4h-.36l-.42,1-.42-1h-.36v1.4h.26V64.7l.39.91h.27l.39-.91v1.06Z" /> <path style={{ fill: '#f79e1b' }} d="M123.94,43.45a36,36,0,0,1-58.25,28.3,36,36,0,0,0,0-56.61,36,36,0,0,1,58.25,28.3Z" /></svg>;
  }

  // Visa (mais genérico, checar depois)
  if (cleanNumber.match(/^4/)) {
    return <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0 0 48 48"><path fill="#1565C0" d="M45,35c0,2.209-1.791,4-4,4H7c-2.209,0-4-1.791-4-4V13c0-2.209,1.791-4,4-4h34c2.209,0,4,1.791,4,4V35z"></path><path fill="#FFF" d="M15.186 19l-2.626 7.832c0 0-.667-3.313-.733-3.729-1.495-3.411-3.701-3.221-3.701-3.221L10.726 30v-.002h3.161L18.258 19H15.186zM17.689 30L20.56 30 22.296 19 19.389 19zM38.008 19h-3.021l-4.71 11h2.852l.588-1.571h3.596L37.619 30h2.613L38.008 19zM34.513 26.328l1.563-4.157.818 4.157H34.513zM26.369 22.206c0-.606.498-1.057 1.926-1.057.928 0 1.991.674 1.991.674l.466-2.309c0 0-1.358-.515-2.691-.515-3.019 0-4.576 1.444-4.576 3.272 0 3.306 3.979 2.853 3.979 4.551 0 .291-.231.964-1.888.964-1.662 0-2.759-.609-2.759-.609l-.495 2.216c0 0 1.063.606 3.117.606 2.059 0 4.915-1.54 4.915-3.752C30.354 23.586 26.369 23.394 26.369 22.206z"></path><path fill="#FFC107" d="M12.212,24.945l-0.966-4.748c0,0-0.437-1.029-1.573-1.029c-1.136,0-4.44,0-4.44,0S10.894,20.84,12.212,24.945z"></path></svg>;
  }

  // American Express
  if (cleanNumber.match(/^3[47]/)) {
    return <svg version="1.1" id="Layer_1__x28_1:1_x29_" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 70 70" xmlSpace="preserve" width="40" height="40"> <g> <g> <path style={{ fill: '#0071CE' }} d="M59.4,49.7l-2.6-2.9l-2.7,2.9h-5.3l0,0H37.4V36.2h-5.3l6.6-15.1l6.4,0l2.3,5.2v-5.2h8l1.4,3.9l1.4-3.9l6.1,0 v-2.3c0-1.4-1.1-2.5-2.5-2.5H8.2c-1.4,0-2.5,1.1-2.5,2.5v32.5c0,1.4,1.1,2.5,2.5,2.5h53.6c1.4,0,2.5-1.1,2.5-2.5v-1.6L59.4,49.7z" /> <g> <polygon style={{ fill: '#0071CE' }} points="60.1,48.1 64.3,48.1 58.8,42.2 64.3,36.4 60.2,36.4 56.7,40.2 53.3,36.4 49.1,36.4 54.7,42.3 49.1,48.1 53.2,48.1 56.7,44.3 60.1,48.1" /> <polygon style={{ fill: '#0071CE' }} points="42.4,45.4 42.4,43.6 49,43.6 49,40.9 42.4,40.9 42.4,39.1 49.1,39.1 49.1,36.4 39.2,36.4 39.2,48.1 49.1,48.1 49.1,45.4 42.4,45.4" /> <polygon style={{ fill: '#0071CE' }} points="61.2,34.7 64.2,34.7 64.2,22.9 59.4,23 56.8,30.3 54.1,23 49.1,23 49.1,34.7 52.3,34.7 52.3,26.5 55.3,34.7 58.1,34.7 61.2,26.5 61.2,34.7" /> <path style={{ fill: '#0071CE' }} d="M44,23h-4.1l-5.2,11.7h3.5l1-2.3h5.4l1,2.3h3.6L44,23z M40.3,29.7l1.6-3.8l1.6,3.8H40.3z" /> </g> </g> <polygon style={{ fill: '#0071CE' }} points="61.4,41.9 64.3,45.1 64.3,38.7 61.4,41.9" /> </g></svg>;
  }

  // Hipercard
  if (cleanNumber.match(/^(606282|3841\d{2})/)) {
    return <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" viewBox="0 0 780 500" xmlSpace="preserve" width="40" height="40"><rect y="0" style={{ fill: '#F37421' }} width="780" height="500" /><g><polygon style={{ fill: '#FFFFFF' }} points="101,140.9 101,315.9 140.7,315.9 140.7,242.7 205.9,242.7 205.9,315.9 245.4,315.9 245.4,140.9 205.9,140.9 205.9,208.2 140.7,208.2 140.7,140.9 101,140.9" /><path style={{ fill: '#FFFFFF' }} d="M587.2,265c0.5-2.9,1.3-8.8,1.3-15.6c0-31.4-15.6-63.4-56.6-63.4c-44.1,0-64.1,35.6-64.1,67.8 c0,39.7,24.7,64.7,67.8,64.7c17.1,0,33-2.6,46-7.8l-5.2-26.7c-10.6,3.4-21.6,5.2-35.1,5.2c-18.4,0-34.5-7.8-35.8-24.1H587.2 L587.2,265z M505.1,238c1-10.6,7.8-25.7,24.4-25.7c18.2,0,22.3,16.1,22.3,25.7H505.1L505.1,238z" /><path style={{ fill: '#FFFFFF' }} d="M601.1,315.9h39.5v-64.4c0-3.1,0.3-6.2,0.8-8.8c2.6-12.2,12.5-20,27-20c4.4,0,7.8,0.5,10.6,1v-37.1 c-2.9-0.5-4.7-0.5-8.3-0.5c-12.2,0-27.8,7.8-34.3,26.2h-1l-1.3-23.4h-34c0.5,10.9,1,23.1,1,41.8V315.9L601.1,315.9z" /><path style={{ fillRule: 'evenodd', clipRule: 'evenodd', fill: '#FFE700' }} d="M285.5,133.9c11.2,0,20.3,9.1,20.3,20.3c0,11.2-9.1,20.3-20.3,20.3c-11.2,0-20.3-9.1-20.3-20.3 C265.2,143,274.3,133.9,285.5,133.9L285.5,133.9z" /><path style={{ fillRule: 'evenodd', clipRule: 'evenodd', fill: '#FFFFFF' }} d="M368.9,286.3h19.8c19.9,0,28.9-12.7,28.9-26c0-13.3-1-43.3-25.5-43.3c-28.2,0-23.7,37.3-23.5,56.8 C368.5,278,368.8,282.2,368.9,286.3L368.9,286.3z M265.2,188.8h40.6v71.6c0,13.3,7.4,26,23.7,26c0.1-32.2,0-65.4-1.1-97.6h33.9 c0.7,6.2,1.4,12.4,2,18.6c16-32,66.5-25,83.5,2.1c17.5,27.9,23.5,107.9-59.1,107.9h-19.2c0.2,16.2,0.2,32.5,0.2,48.8h-40.6 c0-15.6,0.1-32,0.2-48.8c-43.9-0.2-64.1-28-64.1-57V188.8L265.2,188.8z" /></g></svg>;
  }

  // Discover
  if (cleanNumber.match(/^6(?:011|5[0-9]{2})/)) {
    return <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0 0 48 48"><path fill="#E1E7EA" d="M45,35c0,2.2-1.8,4-4,4H7c-2.2,0-4-1.8-4-4V13c0-2.2,1.8-4,4-4h34c2.2,0,4,1.8,4,4V35z"></path><path fill="#FF6D00" d="M45,35c0,2.2-1.8,4-4,4H16c0,0,23.6-3.8,29-15V35z M22,24c0,1.7,1.3,3,3,3s3-1.3,3-3c0-1.7-1.3-3-3-3S22,22.3,22,24z"></path><path d="M11.2,21h1.1v6h-1.1V21z M17.2,24c0,1.7,1.3,3,3,3c0.5,0,0.9-0.1,1.4-0.3v-1.3c-0.4,0.4-0.8,0.6-1.4,0.6c-1.1,0-1.9-0.8-1.9-2c0-1.1,0.8-2,1.9-2c0.5,0,0.9,0.2,1.4,0.6v-1.3c-0.5-0.2-0.9-0.4-1.4-0.4C18.5,21,17.2,22.4,17.2,24z M30.6,24.9L29,21h-1.2l2.5,6h0.6l2.5-6h-1.2L30.6,24.9z M33.9,27h3.2v-1H35v-1.6h2v-1h-2V22h2.1v-1h-3.2V27z M41.5,22.8c0-1.1-0.7-1.8-2-1.8h-1.7v6h1.1v-2.4h0.1l1.6,2.4H42l-1.8-2.5C41,24.3,41.5,23.7,41.5,22.8z M39.2,23.8h-0.3v-1.8h0.3c0.7,0,1.1,0.3,1.1,0.9C40.3,23.4,40,23.8,39.2,23.8z M7.7,21H6v6h1.6c2.5,0,3.1-2.1,3.1-3C10.8,22.2,9.5,21,7.7,21z M7.4,26H7.1v-4h0.4c1.5,0,2.1,1,2.1,2C9.6,24.4,9.5,26,7.4,26z M15.3,23.3c-0.7-0.3-0.9-0.4-0.9-0.7c0-0.4,0.4-0.6,0.8-0.6c0.3,0,0.6,0.1,0.9,0.5l0.6-0.8C16.2,21.2,15.7,21,15,21c-1,0-1.8,0.7-1.8,1.7c0,0.8,0.4,1.2,1.4,1.6c0.6,0.2,1.1,0.4,1.1,0.9c0,0.5-0.4,0.8-0.9,0.8c-0.5,0-1-0.3-1.2-0.8l-0.7,0.7c0.5,0.8,1.1,1.1,2,1.1c1.2,0,2-0.8,2-1.9C16.9,24.2,16.5,23.8,15.3,23.3z"></path></svg>;
  }

  // JCB
  if (cleanNumber.match(/^35/)) {
    return <svg xmlns="http://www.w3.org/2000/svg" height="30.868" width="40" xmlSpace="preserve" viewBox="0 0 300.00001 231.511" version="1.1"><defs><linearGradient gradientTransform="matrix(1.125,0,0,1.125,-11.9755,-13.8615)" y2="81.3986" x2="157.3299" y1="81.3986" x1="117.3856" gradientUnits="userSpaceOnUse" id="SVGID_1_"><stop stopColor="#007940" offset="0" /><stop stopColor="#00873F" offset="0.2285" /><stop stopColor="#40A737" offset="0.7433" /><stop stopColor="#5CB531" offset="1" /></linearGradient><linearGradient gradientTransform="matrix(1.125,0,0,1.125,-11.9755,-13.8615)" y2="75.1714" x2="157.3318" y1="75.1714" x1="117.3844" gradientUnits="userSpaceOnUse" id="SVGID_2_"><stop stopColor="#007940" offset="0" /><stop stopColor="#00873F" offset="0.2285" /><stop stopColor="#40A737" offset="0.7433" /><stop stopColor="#5CB531" offset="1" /></linearGradient><linearGradient gradientTransform="matrix(1.125,0,0,1.125,-11.9755,-13.8615)" y2="68.3991" x2="157.33051" y1="68.3991" x1="117.3846" gradientUnits="userSpaceOnUse" id="SVGID_3_"><stop stopColor="#007940" offset="0" /><stop stopColor="#00873F" offset="0.2285" /><stop stopColor="#40A737" offset="0.7433" /><stop stopColor="#5CB531" offset="1" /></linearGradient><linearGradient gradientTransform="matrix(1.125,0,0,1.125,-11.9755,-13.8615)" y2="75.1714" x2="68.5221" y1="75.1714" x1="27.9594" gradientUnits="userSpaceOnUse" id="SVGID_4_"><stop stopColor="#1F286F" offset="0" /><stop stopColor="#004E94" offset="0.4751" /><stop stopColor="#0066B1" offset="0.8261" /><stop stopColor="#006FBC" offset="1" /></linearGradient><linearGradient gradientTransform="matrix(1.125,0,0,1.125,-11.9755,-13.8615)" y2="75.1714" x2="111.8553" y1="75.1714" x1="72.4595" gradientUnits="userSpaceOnUse" id="SVGID_5_"><stop stopColor="#6C2C2F" offset="0" /><stop stopColor="#882730" offset="0.1735" /><stop stopColor="#BE1833" offset="0.5731" /><stop stopColor="#DC0436" offset="0.8585" /><stop stopColor="#E60039" offset="1" /></linearGradient></defs><g transform="translate(-9.4,96.811)"><g transform="matrix(1.8215159,0,0,1.8215159,-8.5437653,-109.83667)"><path style={{ fill: '#ffffff' }} d="m 174,108.3 c 0,14 -11.4,25.4 -25.4,25.4 l -138.2,0 0,-100.6 c 0,-14 11.4,-25.4 25.4,-25.4 l 138.2,0 0,100.6 z" /><g><path style={{ fill: 'url(#SVGID_1_)' }} d="m 129,82.5 10.5,0 c 0.3,0 1,-0.1 1.3,-0.1 2,-0.4 3.7,-2.2 3.7,-4.7 0,-2.4 -1.7,-4.2 -3.7,-4.7 -0.3,-0.1 -0.9,-0.1 -1.3,-0.1 l -10.5,0 0,9.6 z" /><path style={{ fill: 'url(#SVGID_2_)' }} d="m 138.3,16.2 c -10,0 -18.2,8.1 -18.2,18.2 l 0,18.9 25.7,0 c 0.6,0 1.3,0 1.8,0.1 5.8,0.3 10.1,3.3 10.1,8.5 0,4.1 -2.9,7.6 -8.3,8.3 l 0,0.2 c 5.9,0.4 10.4,3.7 10.4,8.8 0,5.5 -5,9.1 -11.6,9.1 l -28.2,0 0,37 26.7,0 c 10,0 18.2,-8.1 18.2,-18.2 l 0,-90.9 -26.6,0 z" /><path style={{ fill: 'url(#SVGID_3_)' }} d="m 143.2,63.1 c 0,-2.4 -1.7,-4 -3.7,-4.3 -0.2,0 -0.7,-0.1 -1,-0.1 l -9.5,0 0,8.8 9.5,0 c 0.3,0 0.9,0 1,-0.1 2,-0.3 3.7,-1.9 3.7,-4.3 z" /></g><path style={{ fill: 'url(#SVGID_4_)' }} d="m 37.7,16.2 c -10,0 -18.2,8.1 -18.2,18.2 l 0,44.9 c 5.1,2.5 10.4,4.1 15.7,4.1 6.3,0 9.7,-3.8 9.7,-9 l 0,-21.2 15.6,0 0,21.1 c 0,8.2 -5.1,14.9 -22.4,14.9 -10.5,0 -18.7,-2.3 -18.7,-2.3 l 0,38.3 26.7,0 c 10,0 18.2,-8.1 18.2,-18.2 l 0,-90.8 -26.6,0 z" /><path style={{ fill: 'url(#SVGID_5_)' }} d="m 88,16.2 c -10,0 -18.2,8.1 -18.2,18.2 l 0,23.8 c 4.6,-3.9 12.6,-6.4 25.5,-5.8 6.9,0.3 14.3,2.2 14.3,2.2 l 0,7.7 c -3.7,-1.9 -8.1,-3.6 -13.8,-4 -9.8,-0.7 -15.7,4.1 -15.7,12.5 0,8.5 5.9,13.3 15.7,12.5 5.7,-0.4 10.1,-2.2 13.8,-4 l 0,7.7 c 0,0 -7.3,1.9 -14.3,2.2 -12.9,0.6 -20.9,-1.9 -25.5,-5.8 l 0,42 26.7,0 c 10,0 18.2,-8.1 18.2,-18.2 l 0,-91 -26.7,0 z" /></g></g></svg>;
  }

  // default
  return <CreditCard className="text-gray-600" />;
};